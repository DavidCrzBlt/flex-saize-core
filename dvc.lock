schema: '2.0'
stages:
  preprocess:
    cmd: python scripts/run_preprocess.py --input-path data/data.csv 
      --output-path data/data_clean.csv
    deps:
    - path: data/data.csv
      hash: md5
      md5: a0179f890fee5507ca5fdb95c90ef878
      size: 86516
    - path: scripts/run_preprocess.py
      hash: md5
      md5: c25166959e7d9f19b7c2dca161a7684c
      size: 1606
    - path: src/flexsaize/data/preprocessor.py
      hash: md5
      md5: eb6770d005d981bfdb8010ef899cc839
      size: 9946
    outs:
    - path: data/data_clean.csv
      hash: md5
      md5: 29903640b1a11d97d1e2872ec864dbb1
      size: 176052
  split:
    cmd: python scripts/run_split.py --input-path-clean data/data_clean.csv 
      --output-path-train data/train.csv --output-path-val data/val.csv 
      --output-path-test data/test.csv --group-column file --test-size 0.1 
      --val-size 0.1
    deps:
    - path: data/data_clean.csv
      hash: md5
      md5: 29903640b1a11d97d1e2872ec864dbb1
      size: 176052
    - path: scripts/run_split.py
      hash: md5
      md5: 56c232f53673032b693eaba1537befb1
      size: 2760
    outs:
    - path: data/test.csv
      hash: md5
      md5: 1d84bc2bb54e37cb5f203724f03ed348
      size: 18376
    - path: data/train.csv
      hash: md5
      md5: 613190868c420e004428876b21a4136f
      size: 124633
    - path: data/val.csv
      hash: md5
      md5: 187639cc08a15465f73a558acd3b9018
      size: 15157
  train:
    cmd: "python scripts/run_train.py --input-path-train data/train.csv --input-path-val
      data/val.csv --input-path-test data/test.csv --target-col x,y,width,height --model-type
      RandomForest\n"
    deps:
    - path: data/test.csv
      hash: md5
      md5: 1d84bc2bb54e37cb5f203724f03ed348
      size: 18376
    - path: data/train.csv
      hash: md5
      md5: 613190868c420e004428876b21a4136f
      size: 124633
    - path: data/val.csv
      hash: md5
      md5: 187639cc08a15465f73a558acd3b9018
      size: 15157
    - path: scripts/run_train.py
      hash: md5
      md5: 9094e08d85f118d81e4f13d5c2cb77fd
      size: 3875
    - path: src/flexsaize/models/model_config.py
      hash: md5
      md5: ddb61ba246cc0511a2db17a6f5e81d52
      size: 892
    - path: src/flexsaize/train/model_trainer.py
      hash: md5
      md5: 11eec3dcd82643258f335f646e4bca42
      size: 11573
    params:
      params.yaml:
        train.active_hyperparams:
          RandomForest:
            n_estimators: 300
            max_depth: 15
            random_state: 42
          XGBoost:
            n_estimators: 400
            learning_rate: 0.05
            max_depth: 10
          SVR:
            C: 1.0
        train.model_type: RandomForest
